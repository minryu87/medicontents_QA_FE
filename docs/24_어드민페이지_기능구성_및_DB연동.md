# 어드민 페이지 기능 구성 및 DB 연동

## 1. 어드민 페이지 개요

### 1.1 목적
- **시스템 전체 관리**: 모든 데이터베이스 테이블 접근 및 수정
- **캠페인 운영**: 캠페인 생성, 포스트 할당, 일정 관리
- **품질 관리**: 콘텐츠 검토, 승인, 수정 지시
- **성능 모니터링**: AI 에이전트 성능, 시스템 상태 감시
- **고객 지원**: 병원 계정 관리, 문제 해결

### 1.2 대상 사용자
- **시스템 관리자**: 최고 권한, 모든 기능 접근
- **운영 담당자**: 캠페인 및 콘텐츠 관리
- **품질 관리자**: 콘텐츠 검토 및 승인
- **고객 지원팀**: 병원 지원 및 문제 해결

### 1.3 핵심 원칙
- **완전한 데이터 접근**: 모든 테이블 CRUD 가능
- **강력한 모니터링**: 실시간 시스템 상태 파악
- **효율적인 운영**: 일괄 처리, 자동화 기능
- **안전한 관리**: 감사 로그, 권한 분리

## 2. 페이지 구조 및 기능

### 2.1 전체 페이지 구조 (병원 단위 작업 중심)

```
/admin/
├── /dashboard                    # 종합 대시보드
│   ├── 전체 현황 (모든 병원)
│   ├── 일정 알림 (게시 예정, 마감 임박)
│   └── 긴급 작업 (지연 위험 포스트)
│
├── /hospitals/                   # 병원 관리 (Primary Navigation)
│   ├── /                        # 병원 목록
│   ├── /[id]                    # 병원별 대시보드
│   ├── /[id]/posts              # 병원별 포스트 관리
│   ├── /[id]/campaigns          # 병원별 캠페인 관리
│   ├── /[id]/schedule           # 병원별 일정 관리
│   └── /create                  # 병원 등록
│
├── /schedule/                    # 일정 관리 (Schedule Management)
│   ├── /calendar                # 캘린더 뷰
│   ├── /pending                 # 게시 예정
│   ├── /at-risk                 # 지연 위험
│   └── /adjust                  # 일정 조정
│
├── /posts/                       # 콘텐츠 관리 (병원별)
│   ├── /                        # 포스트 목록 (병원 필터)
│   ├── /review                  # 검토 대기 (병원별 그룹핑)
│   ├── /create                  # 포스트 생성
│   ├── /[id]                    # 포스트 상세
│   ├── /[id]/review             # 포스트 검토
│   ├── /[id]/edit               # 직접 수정
│   ├── /[id]/pipeline           # 파이프라인 상태
│   └── /publish                 # 게시 관리
│
├── /campaigns/                   # 캠페인 관리 (병원별)
│   ├── /                        # 캠페인 목록 (병원 필터)
│   ├── /create                  # 캠페인 생성
│   ├── /[id]                    # 캠페인 상세
│   └── /[id]/schedule           # 캠페인 일정
│
├── /agents/                      # AI 에이전트 관리
│   ├── /performance             # 성능 모니터링
│   ├── /prompts                 # 프롬프트 관리
│   └── /checklists              # 체크리스트 관리
│
├── /analytics/                   # 분석 및 보고
│   ├── /quality                 # 품질 분석
│   ├── /performance             # 성과 보고
│   └── /schedule                # 일정 분석
│
├── /system/                      # 시스템 관리
│   ├── /database                # 데이터베이스 관리
│   ├── /users                   # 사용자 관리
│   ├── /health                  # 시스템 상태
│   └── /settings                # 시스템 설정
│
└── /tools/                       # 유틸리티 도구
    ├── /migration               # 데이터 마이그레이션
    ├── /backup                  # 백업 관리
    └── /debug                   # 디버깅 도구
```
### 2.2 대시보드 페이지 구조


MediContents QA 대시보드 레이아웃 (아티클 스타일 적용)
전체 구조
┌──────┬────────────────────────────────────────────────────────┐
│      │                                                        │
│  NAV │                    MAIN CONTENT AREA                   │
│      │                   (플로팅 카드 레이아웃)                  │
│      │                                                        │
└──────┴────────────────────────────────────────────────────────┘
상세 레이아웃
1. **좌측 네비게이션 (고정)**
   
너비: 280px
스타일: 흰색 배경, radius 24px, 그림자

[MediContents]
━━━━━━━━━━━━━

◉ 대시보드 (활성)
○ 병원 관리
○ 캠페인
○ 포스팅
○ 시스템 설정

━━━━━━━━━━━━━
[주간 게시 현황]
월 화 수 목 금 토 일
█ █ ▄ █ ▆ ▂ ▁
8  5  3  12 7  2  1

━━━━━━━━━━━━━
👤 관리자
   admin@medi.com
   
⚙️ 로그아웃

1. **메인 영역 (중앙)**
**2-1. 상단 타이틀 카드**
스타일: 흰색 배경, radius 24px

[운영 현황]                              2024년 12월 15일 월요일
오늘의 주요 지표

🚨 긴급 처리
├─ 게시 지연: 3건      [처리하기]
├─ 시스템 오류: 1건    [확인하기]
└─ 병원 무응답: 2건    [연락하기]

**2-2. 병원별 현황 (가로 스크롤)**
스타일: 가로 스크롤 카드 리스트

[병원별 진행 현황] ─────────────────────────────── [전체보기 →]

┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│서울대병원 │ │강남세브란스│ │아산병원   │ │삼성서울  │ │서울성모  │
│정형외과   │ │피부과     │ │내과      │ │안과      │ │치과      │
│          │ │          │ │          │ │          │ │          │
│admin     │ │AI 처리중  │ │자료 대기  │ │게시 예정  │ │모니터링  │
│review    │ │          │ │          │ │          │ │          │
│          │ │          │ │          │ │          │ │          │
│긴급: 08:00│ │진행: 45% │ │대기: 3일 │ │오늘 15:00│ │성과 추적 │
└──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘
     →             →            →            →            →

**2-3. 오늘의 작업 리스트**
스타일: 흰색 배경, radius 24px

[오늘 처리할 작업] ──────────────────────────────

◉ admin_review 대기 (8건)                    [일괄 검토]
  서울대(3) 강남세브란스(2) 아산병원(3)

◉ AI 생성 대기 (12건)                        [처리 시작]
  큐 대기중: 12건 | 예상 시간: 30분

◉ 자료 요청 필요 (5건)                       [요청 발송]
  48시간 경과: 2건 | 오늘 마감: 3건

◉ 게시 예정 (8건)                           [게시 준비]
  14:00 - 3건 | 17:00 - 5건

3. 우측 플로팅 카드들
   
**3-1. 캘린더 카드 (우측 상단)**
스타일: radius 40px, 강한 그림자

[12월 2024]
일 월 화 수 목 금 토
      1  2  3  4  5
6  7  8  9 10 11 12
13 14 ⑮ 16 17 18 19
20 21 22 23 24 25 26
27 28 29 30 31

● 게시 예정일
○ 캠페인 종료일

**3-2. AI 파이프라인 모니터 (우측 중단)**
스타일: radius 24px

[AI 파이프라인]
처리중: 3 | 대기: 12

DAS      ✓ 완료
Input    ✓ 완료  
Plan     ✓ 완료
Title    ▶ 실행중
Content  ◷ 대기
Eval     ◷ 대기
Edit     ◷ 대기

성공률: 94%

**3-3. 시스템 상태 (우측 하단)**
스타일: radius 24px

[시스템 모니터]
🟢 서버 정상
🟢 DB 정상
🟡 Redis 85%
🟢 API 정상

1. 하단 KPI 카드들
스타일: 4개 카드 그리드

┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐
│오늘 게시   │ │주간 목표   │ │평균 SEO   │ │평균 Legal │
│           │ │           │ │           │ │           │
│   8/12    │ │   45/60   │ │    78점   │ │    85점   │
│   67%     │ │    75%    │ │    ↑3    │ │    →0    │
└───────────┘ └───────────┘ └───────────┘ └───────────┘

5. 플로팅 액션 버튼 (우측 하단 고정)
◉ Chat (메시지 아이콘)
   플로팅 버튼
   radius 50%
   그림자 강함
디자인 특징 (아티클 스타일)
  Border Radius: 24px(기본), 40px(강조)
  그림자: 0 9px 26px (기본), 0 34px 53px (강조)
  색상: #1479FF (메인), 투명도 변형 사용
  여백: 32px (카드 내부), 24px (카드 간격)
  플로팅 효과: 카드들이 겹쳐진 깊이감